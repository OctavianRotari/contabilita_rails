<h2>Aggiungi Fattura</h2>
<%= form_for @invoice, url: company_invoices_path(params[:company_id]) do |form| %>
	<% if @invoice.errors.any? %>
		<%= pluralize(@invoice.errors.count, "error") %> prevented your account from being created:
		<ul>
			<% @invoice.errors.full_messages.each do |error_message| %>
				<li><%= error_message %></li>
			<% end %>
		</ul>
	<% end %>
	<div id="new_taxable_div">
		<input type="button" value="Imponibile" class="new_taxable">
		<input type="button" value="Due imponibili" class="new_taxable">
		<input type="button" value="Tre imponibili" class="new_taxable">
	</div>
	<script>
		$(document).ready(function(){
			$('.new_taxable').click(function(){
				if($(this).attr("value") === 'Imponibile'){
					$('#new_taxable_div').html('<%= escape_javascript(render :partial => "invoices/taxable_1", locals: { form: form }) %>');
				} else if($(this).attr("value") === 'Due imponibili'){
					$('#new_taxable_div').html('<%= escape_javascript(render :partial => "invoices/taxable_2", locals: { form: form }) %>');
				} else {
					$('#new_taxable_div').html('<%= escape_javascript(render :partial => "invoices/taxable_3", locals: { form: form }) %>');
				}
			});
		});
	</script>
	<div>
		<%= form.label 'Motivo' %>
		<%= form.text_field :reason, require: true %>
	</div>
	<div>
		<%= form.label 'Pagato' %>
		<%= form.text_field :paid, require: true %>
	</div>
	<div>
		<%= form.label 'Data emissione' %>
		<%= form.text_field :date, require: true %>
	</div>
	<div>
		<%= form.label 'Targa camion' %>
		<%= form.text_field :plate, require: true %>
	</div>
	<div>
		<%= form.label 'Data scadenza' %>
		<%= form.text_field :deadline, require: true %>
	</div>
	<div>
		<%= form.label 'Tipo di pagamento' %>
		<%= form.text_field :type_of_payment, require: true %>
	</div>
	<div>
		<%= form.submit "Aggiungi fattura" %>
	</div>
<% end %>

